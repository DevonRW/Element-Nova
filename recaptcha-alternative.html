<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Element Nova &mdash; Recaptcha alternative</title>
	<meta name="description" content="" />
</head>
<body>
    <header role="banner">
            <h1><a href="./">Element Nova</a></h1>
        </header>
    <main role="main">
            <article class="post">
	<h1>Recaptcha alternative</h1>
	<div class="post-meta">
		<span class="post-date">September 10, 2012&nbsp;03:16:33</span>
			</div>
	<p>We used to think that recaptcha was great. All we had to do was drop a small script into our server side driven site, and BOOM no more spam.</p>

<p>We were not paying attention to what we actually did, however. We made it annoying for our users. Every single one of our users then had to squint at a screen and enter two barely readable (and more and more recently it became completely unreadable) words.</p>

<p>We took our problem and made it our users&#8217; problem. That is terrible. We&#8217;re engineers and scientists and other fancy words/phrases that make use sound super smart. We solve the problem, not pass the buck.</p>

<p>Now there is an unusable element on all of our forms that needs to be removed.</p>

<p>We found a, better, alternative.
<blockquote>Stop the spam on the server.</blockquote>
We rolled a couple of our own solutions in one of our client&#8217;s sites. I&#8217;m not sure of the correct naming of the second technique we used but the first one used is called &#8220;Honey Pot&#8221; and the second one is called &#8220;timestamp token&#8230;.thingy technique&#8221; (see, no idea on the name)</p>

<p>I won&#8217;t put the code we used here, but I&#8217;ll tell you HOW it works.</p>

<h2>Honey Pot</h2>

<p>Most bots will fill out every single field on a form for submitting. Some bots only fill out basic fields like name, email, address. So, we&#8217;re going to catch poor old Pooh-bear with his hand in the honey jar.</p>

<p>Add an additional input (type text) field with a name of &#8220;name&#8221; (you could also use &#8220;address&#8221;) to the start of your form.</p>

<p>On submission, if the field has ANYTHING entered into it, the form will not submit. We set it up to just appear like everything is fine but the form didn&#8217;t pass validation, even though it appears that everything is fine.</p>

<p>Now, there is a form with an input field that you cannot put anything into. That isn&#8217;t very user friendly.</p>

<p>We added 3 more things to clear this up.</p>

<ol>
<li>We added a comment of &#8220;do not fill out this field&#8221; into the same element that was typically used for displaying the &#8220;required&#8221; field red *.</li>
<li>We added a style to the label of the honey pot field that made it hidden. Do that in your stylesheet, not inline.</li>
<li>We removed the label and input field from the DOM using Javascript.</li>
</ol>

<p>So, there is only one possible way for someone to see that field now. Their web browser must not be able to handle basic css and cannot handle basic Javascript. Any other situation and it will not display.</p>

<p>Our users do not see the field, the high high high majority of web bots do not understand javascript so they element remains in the DOM for them to stick their dirty little fingers into. And after they fill out that field and submit to spam away, nothing happens. The form comes back and it appears that everything is okay but the submission just did not work.</p>

<p>I admit, I was a little bit concerned that a bot would get stuck in an infinite loop on our site, but I figured one connection constantly loading a page for now until who knows when would be acceptable since it takes more than one form being submitted every 20 seconds to do a DDOS attack.</p>

<h2>Timestamp Token &#8230; Thingy Technique</h2>

<p>Another thing we learned while researching how bots work is that they submit forms almost instantly.</p>

<p>So, if you completely fill out a form and it&#8217;s submitted in &lt;= 3 seconds. No worky.</p>

<p>Nothing was required for the front end of the site for this except a timestamp in a random hidden field. We also encrypted the timestamp and the name of the field is something that looks like it&#8217;s required for some bizarre CMS.</p>

<p>On the server the field is unencrypted, checked that it&#8217;s a valid timestamp and that it&#8217;s from more than 4 seconds ago. If it isn&#8217;t, the form appears that there is a problem and will not submit, just like the honey pot, but there isn&#8217;t anything obvious about what is wrong.</p>

<p>Every now and then I was able to trigger this as a human by submitting the field and having a field be wrong (email address not formatted properly, or something of the like). If I VERY quickly fixed the error that I had created and submitted the form I could get the timestamp to be submitted too quickly. But this was on one of about nine or ten tries.</p>

<p>I&#8217;m not concerned about something like that as only people who are very familiar with these particular contact forms would be able to trigger this error. Also, if you submit a form and it says everything is fine but it doesn&#8217;t submit, you end up spending a few seconds going over the form with a fine-tooth comb and realizing it should work, and click submit again in which it now works.</p>

<p>I had to sell myself a little bit on this that it wouldn&#8217;t be a burden to our client&#8217;s clients. However, the chances of someone running into this situation is a little bit less rare than a non-CSS/non-JS web browser coming by and using the form (in my opinion).</p>

<h2>The fruits of our labour</h2>

<p>We&#8217;ve had the forms now live on our client&#8217;s site for almost 2 weeks now, and guess what, 0 spam. We&#8217;ve seen about a 50% increase in form submissions (I&#8217;m guessing at that number, I do see a higher amount of submissions come through than before) and no spam.</p>

<p>To do this as opposed to integrating recaptcha into our site would have been the smart move back in 2008, since, based on the code we saw, it looks like it took about the same amount of time to put in these 2 techniques as it would have taken to integrate recaptcha into this home-grown CMS.</p>

</article>
    </main>
    <nav role="nav">
        <ul>
            <li><a href="./">Home</a></li>
            <li><a href="./about.html">About</a></li>
        </ul>
    </nav>
    <footer role="contentinfo">
		        
		    </footer>
	
</body>
</html>
